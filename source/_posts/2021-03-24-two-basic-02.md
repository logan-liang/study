---
layout: _drafts
title: 指针
tags:
  - Golang
categories:
  - 基本结构和基本数据类型
comments: true
date: 2021-03-24 09:05:54
---


Go语言位程序员提供了控制数据结构的指针的能力；但是，你不能进行指针运算。通过给予程序员基本内存布局，Go语言允许你控制特定集合的数据结构、分配的数量以及内存访问模式，这些对构建运行良好的系统是非常重要的：指针对于性能的影响是不言而喻的，而如果你想要做的是系统编程、操作系统或者网络应用，指针更是不可或缺的一部分。

程序在内存中存储它的值，每个内存块（或字）有一个地址，通常用十六进制数表示，如`0x6b0820`。

Go语言的取地址符是`&`，放到一个变量前使用就会返回相应变量的内存地址。
`*`操作符作为右值时，意义是取指针的值，作为左值时，也就是放在赋值操作符的左边时，表示a指针指向的变量。其实归纳起来，`*`操作符的根本意义就是操作指针指向的变量。当操作在右值时，就是取指向变量的值，当操作在左值时，就是将值设置给指向的变量。

`一个指针变量可以指向任何一个值的内存地址` 它指向那个值的内存地址，在32位机器上占用4个字节，在64位机器上占用8个字节，并且与它所指向的值的大小无关。当然，可以声明指针指向任何类型的值来表明它的原始性或结构性。

当一个指针被定义后没有分配到任何变量时，它的值为`nil`。

一个指针变量通常缩写为`ptr`。

指针的一个高级应用是你可以传递一个变量的引用，这样不会传递变量的拷贝。指针传递是很廉价的，只占用4个或8个字节。当程序在工作中需要占用大量的内存，或很多变量，或者两者都有，使用指针会减少内存占用和提高效率。被指向的变量也保存在内存中，直到没有任何指针指向它们，所以从它们被创建开始就具有相互独立的生命周期。

对一个空指针的反向引用是不合法的，并且会使程序崩溃。


