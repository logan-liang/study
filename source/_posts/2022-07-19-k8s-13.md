---
title: Job
tags:
  - k8s-资源对象
categories:
  - Kubernetes
comments: true
date: 2022-07-19 17:16:29
---


### Job 

Job负责批量处理短暂的一次性任务，即仅执行一次的任务，它保证批处理任务的一个或多个Pod成功结束。

#### Job类型

* 非并行Job：通常创建一个Pod直至其成功结束
* 固定结束次数的Job：设置 `.spec.completions`，创建多个Pod，直到`.spec.completions`个Pod成功结束
* 带有工作队列的并行Job：设置 .spec.Parallelism 但不设置 .spec.completions，当所有 Pod 结束并且至少一个成功时，Job 就认为是成功

```
apiVersion: batch/v1
kind: Job
metadata:
  name: busybox
spec:
  completions: 3
  template:
    metadata:
      name: busybox
    spec:
      containers:
      - name: busybox
        image: busybox
        command: ["echo", "hello"]
      restartPolicy: Never
```