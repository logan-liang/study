---
title: Redis-数据类型
tags:
  - Redis-数据类型
categories:
  - Redis
comments: true
date: 2022-07-05 16:33:40
---


### 字符串
#### 语法
* set key value ex second
* get key 
* exists key
#### 解释
string采用的数据结构为SDS（simple dynamic string），中文为简单动态字符串。一共有三个属性，包括：len：字符串的长度
free：记录buf数组未使用的字节数量
buf：buf数组。

### 列表 list
#### 语法
* rpush key value  //从右侧插入数据
* lpush key value  //从左侧插入数据
* lrange key start stop //随机获取数据
* rpop key //从右侧弹出一个数据
* lpop key //从左侧弹出一个数据
* llen key //统计列表长度

#### 解释
列表采用的数据结构为Linked List（链表）。

### 哈希 hash
#### 语法
* hdel key field1 field2 //删除一个或多个哈希表字段
* hexists key field //查看哈希表key中，指定的字段是否存在
* hget key field //获取哈希表中的字段的值
* hgetall key //获取哈希表中key的所有字段和值
* hincrby key field increment //哈希表key中的指定字段的整数值加上增量increment
* hincrbyfloat key field increment //哈希表key中的指定字段的浮点数值加上增量increment
* hkeys key //获取所有哈希表中的字段
* hlen key //获取哈希表中字段的数量
* hmget key field1 field2 //获取所有给定字段的值
* hmset key field1 value2  //将多个field value对设置到哈希表key中
* hset key field value //将哈希表key中的字段field 值设为value
* hsetnx key field value  //只有字段field不存在时，设置哈希表字段的值
* hvals key //获取哈希表中所有值。
* hscan key cursor //迭代哈希表中的键值对

#### 解释
它的主要目的时加快查找指定key的速度，无论hashTable中有多少元素，它的查找效率为o(1)时间复杂度，无需遍历，直接定位到元素。
数据结构采用数组+链表的数据结构，数组时第一维，链表是第二维。数组中的每个元素称为槽或者桶，存储着链表的第一个元素的指针。
当多个key值的摘要取模后相等时，就会使用链表进行串联依次存储key值，这种情况称为散列冲突，也叫碰撞。

### 集合 Set

#### 语法
sadd key m1 m2 //向集合添加一个或者多个成员
scard key //获取集合的成员数
sdiff key1 key2 //返回第一个集合与其他集合之间的差异
sdiffstore destination key1 key2 //返回给定所有集合的差集并存储在destination中
sinter key1 key2 //返回给定所有集合的交集
sinterstore destination key1 key2 //返回给定所有集合的交集并存储在destination中
sismember key member //判断member元素是否是集合key的成员
smembers key  //返回集合中的所有成员
smove source destination member //将member元素从source集合移动到destination集合
spop key //移除并返回集合中的一个随机元素  
srandmember key //返回集合中一个或多个随机数
srem key member1 member2 //一处集合中一个或多个成员
sunion key1 key2 //返回所有给定集合的并集
sunionstore destination key1 key2 //所有给定集合的并集存储在destination集合中
sscan key cursor 迭代集合中的元素

#### 解释

集合是string类型的无序集合。集合成员是唯一的，是通过哈希表实现的，查找的复杂度都是o(1)。
集合中最大的成员数为2的32次方 -1，每个集合可存储40多亿个成员。

### 有序集合 sorted set

#### 语法
zadd key score1 member1 //想有序集合添加一个或多个成员，或者更新已存在成员的分数
zcard key //获取有序集合的成员数
zcount key min max //计算在有序集合中指定区间分数的成员数
zincrby key increment member //有序集合中对指定成员的分数机上增量increment
zinterstore destination numkeys key //计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 destination 中
zlexcount key min max //在有序集合中计算指定字典区间内的成员数量
zrange key start stop //通过索引区间返回有序集合指定区间内的成员
zrangebylex key min max //通过字典区间返回有序集合的成员
zrangebyscore key min max //通过分数返回有序集合指定区间内的成员
zrank key member //返回有序集合中指定成员的索引
zrem key member  //移除有序集合中的一个或多个成员
zremrangebylex key min max //移除有序集合中给定的字典区间的所有成员
zremrangebyrank key start stop //移除有序集合中给定的排名区间的所有成员
zremrangebyscore key min max  //移除有序集合中给定的分区区间的所有成员
zrevrange key start stop //返回有序集合中指定分数区间内的成员，分数从高到底排序
zrevrank key member //返回有序集合中指定成员的排名，有序集合成员按分数值递减排序
zscore key member //返回有序集合，成员的分数值
zunionstore destination numkeys key //计算给定的一个或多个有序集的并集，并存储在新的key中
zscan key cursor //迭代有序集合中的元素

#### 解释

集合是通过哈希表实现的，查找的复杂度都是O(1)。